(this["webpackJsonp0.1"]=this["webpackJsonp0.1"]||[]).push([[0],{165:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(2),r=n(52),c=n.n(r),a=n(16),s=(n(62),n(5)),d=n(4),u=n(6);n(63),n(9);n(20),n(12),n(21),n(53);var l=n(8),p=n.n(l),g="http://localhost:8080/api/auth/",h={register:function(e,t,n,i,o,r,c,a,s){return p.a.post(g+"signup",{firstname:e,surname:t,company:n,address:i,postcode:o,email:r,telephone:c,username:a,password:s})},login:function(e,t){return p.a.post(g+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")},getCurrentUser:function(){return JSON.parse(localStorage.getItem("user"))},updatePassword:function(e,t,n){return p.a.post(g+"updatepassword",{email:e,password:t,oldPassword:n})}};var b=Object(o.createContext)(),f=function(e){var t=Object(o.useContext)(b).screenSize,n=e.desktopWidth,r=void 0===n?3:n,c=e.children,a=e.mobile,s=void 0!==a&&a,d=e.tablet,u=void 0!==d&&d,l=u||(2*r>6?12:2*r),p=s||(4*r>=5?12:4*r),g="desktop"===t.device?r:"tablet"===t.device?l:p;return Object(i.jsx)("div",{style:{width:"".concat(8.33*g,"%"),background:"transparent"},children:c})},j="#1C2029",m="#5783BF",O={menuItem:{position:"relative",alignSelf:"center",background:j,minWidth:"calc(90px + 7vmin)",fontWeight:600,fontSize:"calc(1px + 2vmin)",cursor:"pointer",transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)"},menuItemText:{paddingTop:12,paddingLeft:0,paddingRight:0,paddingBottom:11,textAlign:"center"},menuItemBar:{position:"absolute",bottom:0,height:4,background:m,transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)",border:"0.5px solid ".concat(j),borderBottom:"0"},headerContainer:{position:"sticky",transition:"all 1.33s cubic-bezier(0.685, 0.0473, 0.346, 1)",zIndex:10},menuContainer:{position:"fixed",left:0,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-end",minHeight:"7vh",width:"100%",background:j,borderTop:"1px solid ".concat(j),transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)"},header:{position:"fixed",top:"0",left:"0",width:"100%",minHeight:75,backgroundColor:j,color:"white",transition:"all 1.33s cubic-bezier(0.685, 0.0473, 0.346, 1)",display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center"},logo:{paddingLeft:5,alignSelf:"center",color:"white",fontSize:"calc(18px + 2vmin)",whiteSpace:"nowrap",cursor:"default"},slogan:{color:"white",textAlign:"center",fontSize:"calc(3px + 2vmin)",cursor:"default"},sloganText:{transition:"all 1.33s cubic-bezier(0.685, 0.0473, 0.346, 1)",opacity:1},container:{position:"relative",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",color:"white",background:j,height:"100%",fontSize:14,paddingTop:50,paddingLeft:100,paddingRight:100},copyrightContainer:{paddingTop:20,paddingBottom:10,display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-evenly",color:"white",background:j},copyrightText:{paddingTop:60,paddingLeft:10,paddingRight:10,fontSize:"calc(4px + 1vmin)",position:"relative",bottom:-6,left:0,textAlign:"center",flexGrow:1},socialMediaContainer:{display:"flex",flexDirection:"row"},socialMediaIcons:{paddingRight:10,fontSize:26,cursor:"pointer"},profileIconLoggedOff:{position:"relative",float:"right",background:"grey",width:"calc(22px + 2vmin)",height:"calc(22px + 2vmin)",borderRadius:"50%",padding:"5px",cursor:"pointer",fontSize:"27px",transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},menuIcon:{position:"absolute",top:"15px",right:"8px"},profileBox:{position:"fixed",display:"flex",top:75,right:15,height:300,width:200,background:j,borderRadius:5,boxShadow:"0 8px 6px -6px grey",color:"white",border:"1px solid ".concat(m),fontSize:14},slideMenu:{position:"fixed",width:200,top:75,right:0,height:"100%",background:j,transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},slideMenuDarken:{position:"fixed",top:0,left:0,height:"100%",width:"100%",background:"black"},subscribeInput:{borderRadius:5,border:"1px solid ".concat(j),color:"black",fontWeight:600,padding:3,paddingLeft:5,outline:"none",transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)"},subscribeButton:{outline:"none",marginLeft:5,fontSize:13,fontWeight:600,borderRadius:5,border:"none",padding:3,cursor:"pointer"}};function x(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var w="http://localhost:8080/api/user/",v={getPublicContent:function(){return p.a.get(w+"all")},getUserBoard:function(){return p.a.get(w+"user",{headers:x()})},getModeratorBoard:function(){return p.a.get(w+"mod",{headers:x()})},getAdminBoard:function(){return p.a.get(w+"admin",{headers:x()})},getPendingContracts:function(e){return p.a.post(w+"pendingcontracts",{id:e},{headers:x()})},cancelContract:function(e,t){return p.a.post(w+"cancelcontract",{contractid:e,userid:t},{headers:x()})},checkApiConnection:function(){return p.a.get("http://localhost:8080/")},initiateContract:function(e,t,n){return p.a.post(w+"initiate",{id:e,status:t,userid:n},{headers:x()})},getPublicSpaceExchange:function(){return p.a.get(w+"publicspaceexchange")},getUserSpaceExchange:function(){return p.a.get(w+"userspaceexchange",{headers:x()})},getAllContracts:function(){return p.a.get(w+"getallcontracts",{headers:x()})}},y=(n(7),n(54),n(55),"1px solid ".concat(j),n.p,h.getCurrentUser()),k=(null!==y&&y.roles.includes("ROLE_ADMIN"),null!==y&&y.roles.includes("ROLE_MODERATOR"),[{path:"/comingsoon",name:"Coming Soon",component:function(){return Object(i.jsxs)("div",{style:{height:650,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",fontWeight:700},children:["Website Coming January 2021",Object(i.jsx)("br",{}),"Visit us on eBay and Amazon Marketplace until then :)"]})}}]),C=function(){var e=1024,t=768,n=Object(o.useState)({width:window.innerWidth,height:window.innerHeight,device:window.innerWidth>e?"desktop":window.innerWidth>t?"tablet":"mobile"}),i=Object(d.a)(n,2),r=i[0],c=i[1];return Object(o.useEffect)((function(){var e=1024,t=768,n=function(){var n=window.innerWidth>e?"desktop":window.innerWidth>t?"tablet":"mobile",i=window.innerWidth,o=window.innerHeight;c({width:i,height:o,device:n})};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),r},S=function(){var e=Object(o.useState)({x:document.body.getBoundingClientRect().left,y:document.body.getBoundingClientRect().top,direction:""}),t=Object(d.a)(e,2),n=t[0],i=t[1],r=function(e){i((function(e){return{x:document.body.getBoundingClientRect().left,y:-document.body.getBoundingClientRect().top,direction:e.y>-document.body.getBoundingClientRect().top?"up":"down"}}))};return Object(o.useEffect)((function(){return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),n},M=function(){var e=Object(o.useState)({}),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){!function(){var e=window.navigator&&window.navigator.geolocation;e&&e.getCurrentPosition((function(e){i({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){i({latitude:"err-latitude",longitude:"err-longitude"})}))}()}),[]),n};function I(e,t){Object(o.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}var E=function(e){var t=e.title,n=void 0===t?"title":t,r=e.path,c=void 0===r?"/":r,u=Object(o.useState)(!1),l=Object(d.a)(u,2),p=l[0],g=l[1],h=window.location.href.slice(-7)===c.slice(-7);return Object(i.jsx)(a.b,{to:c,style:{textDecoration:"none"},onMouseOver:function(){return g(!0)},onMouseOut:function(){return g(!1)},children:Object(i.jsxs)("div",{style:Object(s.a)(Object(s.a)({},O.menuItem),{},{color:h||p?m:"white"}),children:[Object(i.jsx)("div",{style:O.menuItemText,children:n}),Object(i.jsx)("div",{style:Object(s.a)(Object(s.a)({},O.menuItemBar),{},{width:h?0:p?"100%":0})})]})})},B=function(){var e=Object(o.useContext)(b),t=e.maxY,n=e.scroll,r=e.screenSize,c=e.routes;return Object(i.jsxs)("div",{style:Object(s.a)(Object(s.a)({},O.headerContainer),{},{opacity:1}),children:["desktop"===r.device&&Object(i.jsx)("div",{style:Object(s.a)(Object(s.a)({},O.menuContainer),{},{top:"down"===n.direction?0:75}),children:c.map((function(e){return Object(i.jsx)(E,{title:e.name,path:e.path},e.path)}))}),Object(i.jsxs)("div",{style:O.header,children:[Object(i.jsx)(f,{children:Object(i.jsx)("div",{style:O.logo,children:Object(i.jsx)("span",{className:"glitch","data-text":"\u30c0 disrupters.uk",children:"\u30c0 Disrupters"})})}),Object(i.jsx)(f,{children:"desktop"===r.device&&Object(i.jsx)("div",{style:O.slogan,children:["Logistical ","Solutions. ","Digital ","World. "].map((function(e,n){return Object(i.jsx)("span",{style:(o=700+500*n,Object(s.a)(Object(s.a)({},O.sloganText),{},{opacity:t>o?1:0})),children:e},e);var o}))})}),!1]})]})},T=function(){var e=Object(o.useState)(!1),t=Object(d.a)(e,2);t[0],t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{style:O.container}),Object(i.jsx)("div",{style:O.copyrightContainer,children:Object(i.jsx)("div",{style:O.copyrightText,children:"Company registration no: 13036055 | Copyright 2020. All Rights Reserved"})})]})};function z(e){return e*Math.PI/180}function L(e){return 180*e/Math.PI}var R={nameFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},toRadians:z,toDegrees:L,getBearing:function(e,t,n,i){e=z(e),t=z(t),n=z(n),i=z(i);var o=Math.sin(i-t)*Math.cos(n),r=Math.cos(e)*Math.sin(n)-Math.sin(e)*Math.cos(n)*Math.cos(i-t),c=Math.atan2(o,r);return((c=L(c))+360)%360},getDistance:function(e,t,n,i,o){if(e===n&&t===i)return 0;var r=Math.PI*e/180,c=Math.PI*n/180,a=t-i,s=Math.PI*a/180,d=Math.sin(r)*Math.sin(c)+Math.cos(r)*Math.cos(c)*Math.cos(s);return d>1&&(d=1),d=60*(d=180*(d=Math.acos(d))/Math.PI)*1.1515,"K"===o&&(d*=1.609344),"N"===o&&(d*=.8684),d},logOut:function(){h.logout(),document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.reload()},tawkTo:function(e){if(!window)throw new Error("DOM is unavailable");if(window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date,document.getElementById("tawkId"))return window.Tawk_API;var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.id="tawkId",t.async=!0,t.src="https://embed.tawk.to/"+e+"/default",t.setAttribute("crossorigin","*"),n.parentNode.insertBefore(t,n);var i=document.getElementsByTagName("script")[0];if(!i||!i.parentNode)throw new Error("DOM is unavailable");i.parentNode.insertBefore(t,i)}},D=n.p+"static/media/loadingcogs.bddee8d8.svg";function A(){var e=R.nameFormat,t=R.logOut,n=R.getDistance,r=R.getBearing,c=S(),l=C(),p=M(),g=Object(u.g)(),f=Object(o.useState)(!1),j=Object(d.a)(f,2),m=j[0],x=j[1],w=Object(o.useState)(!1),y=Object(d.a)(w,2),E=y[0],z=y[1],L=Object(o.useState)(!1),A=Object(d.a)(L,2),P=A[0],W=A[1],N=Object(o.useState)(!1),F=Object(d.a)(N,2),_=F[0],U=F[1],J=Object(o.useState)(null),H=Object(d.a)(J,2),Y=H[0],G=H[1],K=Object(o.useState)(0),V=Object(d.a)(K,2),q=V[0],Q=V[1];Object(o.useEffect)((function(){v.checkApiConnection().then((function(e){console.log(200===e.status?"api ok":"could not connent to api")}))}),[]),Object(o.useEffect)((function(){var e=h.getCurrentUser();e&&(G(e),W(e.roles.includes("ROLE_MODERATOR")),U(e.roles.includes("ROLE_ADMIN")))}),[]),Object(o.useEffect)((function(){Q(9999)}),[c.y]),Object(o.useEffect)((function(){document.body.style.overflow=m?"hidden":"unset"}),[m]);var X={scroll:c,screenSize:l,useOnClickOutside:I,maxY:q,routes:k,menuOpen:m,isMenuOpen:x,currentUser:Y,nameFormat:e,logOut:t,isProfileOpen:z,profileOpen:E,history:g,browserLocation:p,getDistance:n,getBearing:r,showAdminBoard:_,showModeratorBoard:P,loadingcogs:D};return Object(i.jsxs)(b.Provider,{value:X,children:[Object(i.jsx)(B,{}),Object(i.jsx)("div",{style:{paddingTop:"mobile"===l.device?65:130},children:Object(i.jsxs)(u.d,{children:[k.map((function(e){return Object(i.jsx)(u.b,{path:e.path,render:function(t){return Object(i.jsx)(e.component,Object(s.a)({},t))}},e.path)})),_&&Object(i.jsx)(u.b,{path:"/admin",component:""}),P&&Object(i.jsx)(u.b,{path:"/mod",component:""}),Object(i.jsx)(u.a,{from:"/",to:"/rework"})]})}),Object(i.jsx)(T,{}),Object(i.jsx)("div",{style:Object(s.a)(Object(s.a)({},O.slideMenuDarken),{},{opacity:m?.8:0,pointerEvents:!m&&"none"}),onClick:function(){return x(!1)}}),Object(i.jsx)("div",{style:Object(s.a)(Object(s.a)({},O.slideMenu),{},{marginRight:m?"0%":-240}),children:k.map((function(e){return Object(i.jsx)(a.b,{to:e.path,style:{textDecoration:"none"},children:Object(i.jsx)("div",{onClick:function(){return x(!1)},style:{color:"white",fontWeight:600,padding:10,fontSize:"calc(12px + 2vmin)"},children:e.name})},e.path)}))})]})}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),r(e),c(e)}))};c.a.render(Object(i.jsx)(a.a,{basename:"/",children:Object(i.jsx)(A,{})}),document.getElementById("root")),P()},62:function(e,t,n){},63:function(e,t,n){}},[[165,1,2]]]);
//# sourceMappingURL=main.1ef23ec8.chunk.js.map
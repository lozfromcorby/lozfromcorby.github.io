(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{45:function(e,t,n){},47:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n(34),r=n.n(c),o=(n(45),n(2)),i=n(3),l=(n(46),n(47),n(11)),u=n(12),d=n(9),j=n.n(d),b="https://disruptersapi.herokuapp.com/api/auth/",h=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"login",value:function(e,t){return j.a.post(b+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,n){return j.a.post(b+"signup",{username:e,email:t,password:n})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),m=n(14),p=n(39),g=n(38),O=n(35),f=n.n(O),x=n(21),v=n.n(x),w=n(36),k=n.n(w),y=function(e){if(!e)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},S=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleLogin=s.handleLogin.bind(Object(m.a)(s)),s.onChangeUsername=s.onChangeUsername.bind(Object(m.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(m.a)(s)),s.state={username:"",password:"",loading:!1,message:""},s}return Object(u.a)(n,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?h.login(this.state.username.toLowerCase(),this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:n})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"card card-container",children:[Object(s.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(s.jsxs)(f.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)(v.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[y]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)(v.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[y]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(s.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(s.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(s.jsx)(k.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),n}(a.Component),N=function(){var e=Object(a.useState)({successful:!1,message:""}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],m=j[1],p=Object(a.useState)(""),g=Object(o.a)(p,2),O=g[0],f=g[1],x=Object(a.useState)(""),v=Object(o.a)(x,2),w=(v[0],v[1]),k=function(e){0===e.target.value.length&&w("Field Required")};return Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"card card-container",children:[Object(s.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),!n.successful&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)("input",{onBlur:k,type:"text",className:"form-control",name:"username",value:l,onChange:function(e){u(e.target.value)}}),k]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email"}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"email",value:b,onChange:function(e){m(e.target.value)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",name:"password",value:O,onChange:function(e){f(e.target.value)}})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault(),c({message:"",successful:!1}),h.register(l.toLowerCase(),b.toLowerCase(),O).then((function(e){c({message:e.data.message,successful:!0})}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();c({successful:!1,message:t})}))},children:"Sign Up"})})]}),n.message&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:n.successful?"alert alert-success":"alert alert-danger",role:"alert",children:n.message})})]})})};function C(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var L="https://disruptersapi.herokuapp.com/api/test/",B=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"getPublicContent",value:function(){return j.a.get(L+"all")}},{key:"getUserBoard",value:function(){return j.a.get(L+"user",{headers:C()})}},{key:"getModeratorBoard",value:function(){return j.a.get(L+"mod",{headers:C()})}},{key:"getAdminBoard",value:function(){return j.a.get(L+"admin",{headers:C()})}}]),e}()),U=function(){var e=Object(a.useState)({content:""}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){B.getPublicContent().then((function(e){c({content:e.data})}),(function(e){c({content:e.response&&e.response.data||e.message||e.toString()})}))}),[]),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsx)("h3",{children:n.content})})})},I=function(){var e=Object(a.useState)({currentUser:h.getCurrentUser()}),t=Object(o.a)(e,2),n=t[0],c=(t[1],n.currentUser);return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:c.username})," Profile"]})}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Token:"})," ",c.accessToken.substring(0,20)," ..."," ",c.accessToken.substr(c.accessToken.length-20)]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Id:"})," ",c.id]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Email:"})," ",c.email]}),Object(s.jsx)("strong",{children:"Authorities:"}),Object(s.jsx)("ul",{children:c.roles&&c.roles.map((function(e,t){return Object(s.jsx)("li",{children:e},t)}))})]})},F=function(){var e=Object(a.useState)({content:""}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){B.getUserBoard().then((function(e){c({content:e.data})}),(function(e){c({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}))}),[]),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsx)("h3",{children:n.content})})})},T=function(){var e=Object(a.useState)({content:""}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){B.getModeratorBoard().then((function(e){c({content:e.data})}),(function(e){c({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}))}),[]),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsx)("h3",{children:n.content})})})},A=n(18),D=n(15),E="https://disruptersapi.herokuapp.com/",P=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"getStockFile",value:function(){return j.a.get(E+"api/stockfile",{headers:C()})}},{key:"addInventory",value:function(e,t,n,s,a){return j.a.post(E+"api/stockfile/",{sku:e,ean:t,description:n,stockQuantity:s,showStockListing:a})}}]),e}()),M=function(){var e=Object(a.useState)({sku:"",ean:"",description:"",stockQuantity:"",showStockListing:!0}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(e){c(Object(D.a)(Object(D.a)({},n),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:"Add Inventory"}),Object(s.jsxs)("form",{children:["SKU: ",Object(s.jsx)("input",{type:"text",name:"sku",value:n.sku,onChange:r}),Object(s.jsx)("br",{}),"BarCode: ",Object(s.jsx)("input",{type:"text",name:"ean",value:n.ean,onChange:r}),Object(s.jsx)("br",{}),"Description: ",Object(s.jsx)("input",{type:"text",name:"description",value:n.description,onChange:r}),Object(s.jsx)("br",{}),"Stock Quantity: ",Object(s.jsx)("input",{type:"text",name:"stockQuantity",value:n.stockQuantity,onChange:r}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),P.addInventory((n.sku||"").toLowerCase(),(n.ean||"").toLowerCase(),(n.description||"").toLowerCase(),n.stockQuantity,n.showStockListing).then((function(e){c({message:e.data.message,successful:!0})}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();c({successful:!1,message:t})}))},children:"Add Stock"}),Object(s.jsx)("br",{}),"Status: ",n.successful&&"Line added to Stock File",Object(s.jsx)("br",{}),"Status: ",n.message]})]})},z=function(){var e=Object(a.useState)({content:""}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){B.getAdminBoard().then((function(e){c({content:e.data})}),(function(e){c({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}))}),[]),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("header",{className:"jumbotron",children:Object(s.jsx)("h3",{children:n.content})}),Object(s.jsx)(M,{})]})},Q=function(){var e=Object(a.useState)({content:[]}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){P.getStockFile().then((function(e){c({content:e.data})}),(function(e){c({content:e.response&&e.response.data||e.message||e.toString()})}))}),[]),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("header",{className:"jumbotron",children:[Object(s.jsx)("h3",{children:"What's New"}),n.content.map((function(e,t){return Object(s.jsxs)("div",{children:[e.sku," (",e.ean,") ",e.description," - ",e.stockQuantity]})}))]})})},R=function(e){var t=e.children;return Object(s.jsx)("div",{style:{position:"sticky",transition:"all 1.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},children:Object(s.jsx)("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",minHeight:75,transition:"all 1.33s cubic-bezier(0.685, 0.0473, 0.346, 1)",display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center",background:"#1C2029"},children:t})})},W=n(16),J=function(e){var t=e.path,n=e.title,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],l=r[1],u={menuItem:{position:"relative",alignSelf:"center",background:"#1C2029",minWidth:"calc(90px + 7vmin)",fontWeight:600,fontSize:22,cursor:"pointer",transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)"},menuItemBar:{position:"absolute",bottom:0,height:4,background:"white",transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)",border:"0.5px solid ".concat("#1C2029"),borderBottom:"0"},menuItemText:{paddingTop:12,paddingLeft:0,paddingRight:0,paddingBottom:11,textAlign:"center"}},d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){h(window.location.hash.slice(1))}),[window.location.hash]),Object(s.jsx)(W.b,{to:t,activeStyle:{color:"orange"},style:{color:i?"orange":"white",textDecoration:"none"},onMouseOver:function(){return l(!0)},onMouseOut:function(){return l(!1)},children:Object(s.jsxs)("div",{style:u.menuItem,children:[Object(s.jsx)("div",{style:u.menuItemText,children:n}),Object(s.jsx)("div",{style:Object(D.a)(Object(D.a)({},u.menuItemBar),{},{width:i?"100%":0,background:b===t||i?"orange":0})})]})})},_=function(){var e=Object(a.useState)({showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0}),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){var e=h.getCurrentUser();e&&c({currentUser:e,showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}),[]);var r=n.currentUser,l=n.showModeratorBoard,u=n.showAdminBoard;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(R,{children:[Object(s.jsx)("div",{style:{paddingLeft:5,alignSelf:"center",color:"white",fontSize:28,whiteSpace:"nowrap",cursor:"default",fontWeight:600},children:Object(s.jsx)("span",{className:"glitch","data-text":"\u30c0 Disrupters.uk",children:"\u30c0 Disrupters"})}),Object(s.jsxs)("div",{style:{position:"fixed",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",width:"100%",transition:"all 0.66s cubic-bezier(0.685, 0.0473, 0.346, 1)"},children:[Object(s.jsx)(J,{path:"/home",title:"Home"}),Object(s.jsx)(J,{path:"/whatsnew",title:"What's New"}),l&&Object(s.jsx)(J,{path:"/mod",title:"Moderator"}),u&&Object(s.jsx)(J,{path:"/admin",title:"Admin"}),r&&Object(s.jsx)(J,{path:"/user",title:"User"})]}),r?Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(J,{path:"/profile",title:r.username}),Object(s.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0,position:"relative",top:3,left:-25},children:Object(s.jsx)("a",{style:{color:"white",fontSize:12},href:"/",onClick:function(){h.logout()},children:"(Log Out)"})})]}):Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)(J,{path:"/login",title:"Login"}),Object(s.jsx)(J,{path:"/signup",title:"Sign Up"})]})]}),Object(s.jsx)("div",{style:{paddingTop:100},children:Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{exact:!0,path:["/","/home"],component:U}),Object(s.jsx)(i.a,{exact:!0,path:"/login",component:S}),Object(s.jsx)(i.a,{exact:!0,path:"/register",component:N}),Object(s.jsx)(i.a,{exact:!0,path:"/profile",component:I}),Object(s.jsx)(i.a,{path:"/whatsnew",component:Q}),Object(s.jsx)(i.a,{path:"/user",component:F}),Object(s.jsx)(i.a,{path:"/mod",component:T}),Object(s.jsx)(i.a,{path:"/admin",component:z})]})})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(s.jsx)(W.a,{children:Object(s.jsx)(_,{})}),document.getElementById("root")),q()}},[[74,1,2]]]);
//# sourceMappingURL=main.f58b73cb.chunk.js.map